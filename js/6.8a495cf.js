(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"6OjY":function(t,e,a){"use strict";var s=a("v2Kx"),i=a.n(s);i.a},sLzr:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("div",{staticStyle:{width:"auto","max-width":"100vw"}},[a("div",{staticClass:"container flex flex-center row q-pa-lg q-ma-md",staticStyle:{"background-color":"rgba(255, 255, 255, 0.8)","border-radius":"20px",height:"auto"}},[a("q-list",{staticClass:"bg-white",attrs:{highlight:""}},[t.showDueDates?a("q-list-header",{attrs:{inset:""}},[t._v("Payment Due Dates")]):t._e(),t._l(t.getUnpaid,function(e){return t.showDueDates?a("q-item",{key:e[".key"],attrs:{link:""}},[a("q-item-side",{attrs:{icon:"payment",inverted:"",color:"red"}}),a("q-item-main",[a("q-item-tile",{staticClass:"capitalize",attrs:{label:""}},[t._v(t._s(e.type))]),a("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(t.$moment(e.endDate).format("dddd"))+", "+t._s(t.$moment(e.endDate).format("LL")))])],1),a("q-item-side",{attrs:{right:"",icon:"info",color:"faded"}})],1):t._e()}),a("q-list-header",{attrs:{inset:""}},[t._v("New Notifications")]),t._l(t.getActivies,function(e){return a("div",{key:e[".key"],on:{click:function(a){t.scheduleDetails(e)}}},[a("q-item",{attrs:{link:"",sparse:""}},[a("q-item-side",{attrs:{icon:"event_note",inverted:"",color:"primary"}}),a("q-item-main",[a("q-item-tile",{staticClass:"capitalize",attrs:{label:""}},[t._v(t._s(e.type))]),a("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(t.$moment(e.startDate).format("dddd"))+", "+t._s(t.$moment(e.startDate).format("LL")))])],1),a("q-item-side",{attrs:{right:"",icon:"info",color:"faded"}})],1)],1)})],2)],1)]),a("q-modal",{attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"},maximized:""},model:{value:t.scheduleModal,callback:function(e){t.scheduleModal=e},expression:"scheduleModal"}},[a("q-modal-layout",{staticClass:"text-center"},[a("q-toolbar",{attrs:{slot:"header",color:"dark"},slot:"header"},[a("q-btn",{staticClass:"fixed-right q-ma-sm",attrs:{flat:"",round:"",dense:"",icon:"clear"},on:{click:function(e){t.scheduleModal=!1}}}),a("q-toolbar-title",[a("span",{staticClass:"capitalize"},[t._v(t._s(t.selectedSchedule.type))])])],1),a("div",{staticClass:"absolute-center row modal_size text-center q-ma-md full-width"},[a("div",{staticClass:"col-12 q-pa-sm q-mt-lg"},[a("q-icon",{staticClass:"q-display-1",attrs:{name:"event"}}),a("span",{},[t._v("\n            "+t._s(t.$moment(t.selectedSchedule.startDate).format("dddd"))+", "+t._s(t.$moment(t.selectedSchedule.startDate).format("LL"))+"\n             "),a("br",{staticClass:"hide-desktop"}),a("q-icon",{staticClass:"q-display-1",attrs:{name:"access_time"}}),a("span",{staticClass:"uppercase"},[t._v("\n          ( "+t._s(t.$moment(t.selectedSchedule.startDate).format("LT"))+" )\n          ")])],1)],1),t.hideLocation?a("div",{staticClass:"col-12 q-pa-sm"},[a("q-icon",{staticClass:"q-display-1",attrs:{name:"location_on"}}),a("span",{staticClass:"uppercase"},[t._v("\n            "+t._s(t.selectedSchedule.location)+"\n          ")])],1):t._e(),t.hideLocation?a("div",{staticClass:"mapouter col-12 q-pa-sm"},[a("div",{staticClass:"gmap_canvas"},[a("iframe",{attrs:{width:"600",height:"500",id:"gmap_canvas",src:"https://maps.google.com/maps?q="+t.locationRecode+"&t=&z=13&ie=UTF8&iwloc=&output=embed",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"}}),a("a",{attrs:{href:"https://www.embedgooglemap.net"}})])]):t._e()])],1)],1)],1)},i=[];s._withStripped=!0;var n={name:"ModelNotification",data:function(){return{progress:50,accountNumber:"",contractsigned:[],scheduleModal:!1,selectedSchedule:{}}},created:function(){this.$bindAsArray("contractsigned",this.$database.ref("contractSigned")),this.accountNumber=this.$route.params.id,console.log("cs",this.contractsigned)},computed:{getModelInfo:function(){var t=this,e=this.$lodash.filter(this.contractsigned,function(e){return e.accountNumber===t.accountNumber});return console.log("list",e),e[0]},getDuePayments:function(){return this.getModelInfo.paymentDueDate},get1stPaidStatus:function(){return console.log("get1stStatus",this.getDuePayments[0].paidStatus+this.getDuePayments[0].title),this.getDuePayments[0].paidStatus},get2ndPaidStatus:function(){return console.log("get2ndStatus",this.getDuePayments[1].paidStatus+this.getDuePayments[1].title),this.getDuePayments[1].paidStatus},get3rdPaidStatus:function(){return console.log("get3rdStatus",this.getDuePayments[2].paidStatus+this.getDuePayments[2].title),this.getDuePayments[2].paidStatus},getActivies:function(){var t=this,e=this.getModelInfo.balance,a=this.$lodash.filter(this.getModelInfo.activitiesAttended,function(a){if(0===e)return"orientation"===a.type?0:a;if("orientation"===a.type)return 0;if("photoshoot"===a.type){if(!0===t.get1stPaidStatus)return a}else if("photoliking"===a.type){if(!0===t.get2ndPaidStatus)return a}else if(!0===t.get3rdPaidStatus)return a});return console.log("activities",a),a},getCountNotification:function(){return this.getActivies.length},getUnpaid:function(){var t=this.$lodash.filter(this.getDuePayments,function(t){return!0!==t.paidStatus?t:0});return console.log("unpaid",t),t},showDueDates:function(){var t=this.getModelInfo.balance;return 0!==t},locationRecode:function(){try{var t=this.selectedSchedule.location;return t=encodeURIComponent(t.trim()),console.log("for g-map location",t),t}catch(t){return""}},hideLocation:function(){var t=this.selectedSchedule.location;return""!==t}},methods:{scheduleDetails:function(t){console.log("schedule details",t),this.selectedSchedule=t,this.scheduleModal=!0}}},o=n,c=(a("6OjY"),a("KHd+")),l=Object(c["a"])(o,s,i,!1,null,null,null);e["default"]=l.exports},v2Kx:function(t,e,a){}}]);
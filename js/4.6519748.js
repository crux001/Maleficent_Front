(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"6jPk":function(t,e,s){},CIZw:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh Lpr lff"}},[a("q-layout-header",[a("div",{},[a("q-toolbar",{attrs:{color:"white"}},[a("q-btn",{staticClass:"text-faded",attrs:{flat:"",dense:"",round:"","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}},[a("q-icon",{attrs:{name:"menu"}})],1),a("q-toolbar-title",{staticClass:"absolute-center"},[a("img",{attrs:{id:"logo_memp",alt:"Maleficent Models Academy",src:s("Znib")}})]),a("q-btn",{staticClass:"text-faded absolute-right q-mt-sm q-mr-sm hide-mobile",attrs:{flat:"",dense:"",round:"","aria-label":"Log-Out"},on:{click:function(e){t.$router.push("/")}}},[a("q-icon",{attrs:{name:"power_settings_new"}})],1)],1),a("q-layout-drawer",{attrs:{"content-class":"mat"===t.$q.theme?"bg-white":null},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[a("q-list-header",[t._v("Navigation")]),a("q-item",{staticClass:"text-dark",attrs:{to:"/settings/"+t.getModelInfo.accountNumber}},[a("q-item-side",{attrs:{icon:"settings"}}),a("q-item-main",{attrs:{label:"Account Settings"}})],1),a("div",{on:{click:t.setUnreadTrue}},[a("q-item",{staticClass:"text-dark",attrs:{to:"/chat/"+t.getModelInfo.accountNumber}},[a("q-item-side",{attrs:{icon:"message"}}),a("q-item-main",{attrs:{label:"Message Coordinator"}}),t.showCount?a("q-chip",{attrs:{color:"red",small:""}},[t._v(t._s(t.showCount))]):t._e()],1)],1),a("q-item",{staticClass:"bg-dark text-white",attrs:{to:"/"}},[a("q-item-side",{staticClass:"text-white",attrs:{icon:"power_settings_new"}}),a("q-item-main",{staticClass:"text-white",attrs:{label:"Log - Out"}})],1)],1)],1),a("q-tabs",{staticClass:"shadow-2 full-width",attrs:{align:"justify",color:"dark"}},[a("q-tab",{attrs:{slot:"title",icon:"dashboard",label:""},on:{click:function(e){t.$router.push("/accounts/"+t.getModelInfo.accountNumber)}},slot:"title"},[a("label",{staticClass:"hide-mobile"},[t._v(" Dashboard ")])]),a("q-tab",{attrs:{slot:"title",icon:"ballot",label:""},on:{click:function(e){t.$router.push("/newsfeed/"+t.getModelInfo.accountNumber)}},slot:"title"},[a("label",{staticClass:"hide-mobile"},[t._v(" Latest News ")])]),a("q-tab",{attrs:{slot:"title",count:t.getCountNotification,icon:"notifications",label:""},on:{click:function(e){t.$router.push("/notifications/"+t.getModelInfo.accountNumber)}},slot:"title"},[a("label",{staticClass:"hide-mobile"},[t._v(" Notfications ")])])],1)],1)]),a("q-page-container",{staticClass:"bgimg"},[a("router-view")],1),a("q-layout-footer",{staticStyle:{"background-color":"#232428"}},[a("div",{staticClass:"justify center"},[a("div",{staticClass:"q-pa-lg container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-white text-center",attrs:{id:"social"}},[a("p",{staticClass:"q-caption text-light"},[t._v("Copyright Â© 2018 Maleficent Models Academy")]),a("a",{attrs:{href:""}},[t._v("FAQ")]),t._v(" | "),a("a",{attrs:{href:""}},[t._v("Terms and Conditions")]),t._v(" | "),a("a",{attrs:{href:""}},[t._v("Privacy Policy")])])])])])]),t.showCount?a("q-page-sticky",{attrs:{position:"top-right",offset:[18,18]}},[a("q-btn",{attrs:{round:"",color:"primary",icon:"message",size:"lg",to:"/chat/"+t.getModelInfo.accountNumber},on:{click:t.setUnreadTrue}}),a("q-chip",{attrs:{floating:"",color:"red"}},[t._v(t._s(t.showCount))])],1):t._e()],1)},i=[];a._withStripped=!0;var o=s("MVZn"),n=s.n(o),r=(s("rGqo"),s("yt8O"),s("RW0V"),s("91GP"),s("lqHd")),l={name:"ModelAccountLayout",data:function(){return{leftDrawerOpen:!1,state:!0,accountNumber:"",allMessage:[],contractsigned:[]}},created:function(){this.$bindAsArray("contractsigned",this.$database.ref("contractSigned")),this.$bindAsArray("allMessage",this.$database.ref("messages")),this.accountNumber=this.$route.params.id,console.log("account Number",this.accountNumber)},computed:{getModelInfo:function(){var t=this,e=this.$lodash.filter(this.contractsigned,function(e){return e.accountNumber===t.accountNumber});return console.log("list",e),e[0]},getDuePayments:function(){return this.getModelInfo.paymentDueDate},get1stPaidStatus:function(){return console.log("get1stStatus",this.getDuePayments[0].paidStatus+this.getDuePayments[0].title),this.getDuePayments[0].paidStatus},get2ndPaidStatus:function(){return console.log("get2ndStatus",this.getDuePayments[1].paidStatus+this.getDuePayments[1].title),this.getDuePayments[1].paidStatus},get3rdPaidStatus:function(){return console.log("get3rdStatus",this.getDuePayments[2].paidStatus+this.getDuePayments[2].title),this.getDuePayments[2].paidStatus},getActivies:function(){var t=this,e=this.getModelInfo.balance,s=this.$lodash.filter(this.getModelInfo.activitiesAttended,function(s){if(0===e)return"orientation"===s.type?0:s;if("orientation"===s.type)return 0;if("photoshoot"===s.type){if(!0===t.get1stPaidStatus)return s}else if("photoliking"===s.type){if(!0===t.get2ndPaidStatus)return s}else if(!0===t.get3rdPaidStatus)return s});return s},getCountNotification:function(){return this.getActivies.length},getModelMessages:function(){this.$bindAsArray("modelmsgs",this.$database.ref("messages/"+this.$route.params.id));var t=[];try{for(var e=0;e<this.modelmsgs.length;e++){var s=Object.assign([],this.modelmsgs[e]);"Model Coordinator"!==s.from?(delete s.sent,t.push(Object.assign({},s))):t.push(Object.assign({},s))}return t}catch(t){}},MessageCounter:function(){console.log("mes",this.allMessage[0]);for(var t=[],e=0;e<this.allMessage.length;e++){for(var s=this.allMessage[e][".key"],a=Object.keys(this.allMessage[e]),i=[],o=0;o<a.length-1;o++)i.push(n()({},this.allMessage[e][a[o]]));var r=this.$lodash.filter(i,function(t){return"Model Coordinator"===t.from&&!1===t.seen});t.push({count:r.length,key:s})}return t},showCount:function(){var t=this.$route.params.id,e=0;try{for(var s=0;s<this.MessageCounter.length;s++){var a=this.MessageCounter[s].key;a===t&&(e=this.MessageCounter[s].count)}return 0===e?0:e}catch(t){}}},methods:{openURL:r["a"],setUnreadTrue:function(){for(var t=this.$route.params.id,e=0;e<this.getModelMessages.length;e++)"Model Coordinator"===this.getModelMessages[e].from&&!1===this.getModelMessages[e].seen&&this.$database.ref("messages/"+t+"/"+this.getModelMessages[e][".key"]+"/seen").set(!0)}},toggleHeader:function(){this.state=!this.state}},c=l,u=(s("U2kp"),s("KHd+")),d=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=d.exports},U2kp:function(t,e,s){"use strict";var a=s("6jPk"),i=s.n(a);i.a}}]);